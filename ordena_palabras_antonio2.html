<html>
<head>
<meta charset="UTF-8">
<title>Aprender EspaÃ±ol - Ordena las palabras </title>
<style>
body {
  font-family: Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
  margin: 0;
  padding: 20px;
}

.container {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 600px;
  width: 100%;
}

.word-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.word-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  min-height: 60px;
  padding: 15px;
  border-radius: 5px;
}

.source-container {
  background: #f0f0f0;
  border: 2px solid #ddd;
}

.target-container {
  background: #fff;
  border: 2px dashed #4CAF50;
}

.word {
  background: #4CAF50;
  color: white;
  padding: 8px 15px;
  border-radius: 20px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.2s, all 0.3s ease;
}

.word:hover {
  transform: scale(1.05);
}

.options {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

button {
  background: #2196F3;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.3s;
}

button:hover {
  background: #1976D2;
}

.progress {
  margin-top: 20px;
  font-size: 18px;
  color: #666;
}

.feedback {
  margin-top: 10px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
}

.area-label {
  font-weight: bold;
  color: #666;
  margin-bottom: -10px;
}

.word {
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
</head>
<body>
<div class="container">
<center><h1>Â¡Ordena las palabras!</h1></center>
<div class="word-area">
  <div class="area-label">Palabras disponibles:</div>
  <div id="sourceContainer" class="word-container source-container"></div>
  <div class="area-label">Ordena las palabras aquÃ­:</div>
  <div id="targetContainer" class="word-container target-container"></div>
</div>
<div class="options">
  <button id="speakBtn">ðŸ”Š Escuchar</button>
  <button id="checkBtn">Comprobar</button>
</div>
<div class="progress" id="progress"></div>
<div class="feedback" id="feedback"></div>
</div>

<script>
const phrases = [

"Hoy ha sido un buen dÃ­a",

"La amiga de mi esposa ha venido a mi casa y comimos juntos para la cena",

"Â¿Y quÃ© comisteis?",

"Pollo caliente",

"Tu esposa es vegetariana",

"SÃ­, por eso nosotros comimos verduras, tofu y huevos",

"No comimos carne, pescado o marisco",

"Â¿Tienes planeado hacer algo en el AÃ±o Nuevo Lunar?",

"Â¿Tienes algÃºn plan para hacer en el AÃ±o Nuevo Lunar?",

"No tengo planes, pero como siempre, voy a regresar a la casa de mis padres",

"Donde me cuidaban",

"En Suiza, por ejemplo, tenemos mucha ayuda del estado para poder criar a mi hijo o mi hija",

"Es de un texto",

"Â¿DÃ³nde viven tus padres?",

"Mis padres viven en Yilan",

"Yilan estÃ¡ en el noreste de TaiwÃ¡n y estÃ¡ al lado de TaipÃ©i",

"EstÃ¡ cerquita de donde vives",

"Pues como decimos, la casa de sus padres",

"La casa de mis viejos",

"La casa de mis viejos es mÃ¡s usada en el espaÃ±ol de LatinoamÃ©rica",

"Pero en EspaÃ±a no solemos decir 'la casa de mis viejos'",

"Hay gente que la usa, pero no es muy comÃºn en EspaÃ±a",

"La casa de mis padres",

"Y allÃ­ cenÃ¡is todos juntos, Â¿verdad?",

"Cenar = comida de la noche",

"En la noche del fin de aÃ±o lunar cenamos juntos como cada aÃ±o",

"Conozco la tradiciÃ³n: dais un sobre rojo con dinero, Â¿verdad?",

"Y la decoraciÃ³n de la casa con pegatinas de color rojo. En este caso, una serpiente porque es el animal del AÃ±o Nuevo",

"Es el aÃ±o de la serpiente",

"Pegatina = algo que estÃ¡ pegado en una superficie = sticker en inglÃ©s",

"Serpiente = snake en inglÃ©s",

"Â¿CuÃ¡l es tu animal del horÃ³scopo?",

"NacÃ­ en el aÃ±o del tigre",

"Y mi padre naciÃ³ en el aÃ±o de la serpiente",

"Â¡QuÃ© guay!",

"Entonces, este aÃ±o va a ser el de tu padre",

"Este va a ser el aÃ±o de tu padre",

"Por eso es muy fÃ¡cil contar cuÃ¡ntos aÃ±os tiene",

"Usamos 'para' porque 'contar cuÃ¡ntos aÃ±os tiene' es la finalidad. Cuando necesitamos decir la finalidad o propÃ³sito de algo, usamos 'para'",

"Como mi padre tiene mÃ¡s de 60 aÃ±os, por eso 12",

"Los aÃ±os divididos entre 12",

"12 multiplicado por X",

"Si mi padre tuviera X aÃ±os, tendrÃ­a mÃ¡s de 60 aÃ±os",

"Por eso mi padre tiene 70 aÃ±os",

"SegÃºn el calendario lunar",

"Es 72",

"Â¿CuÃ¡l es tu propÃ³sito de AÃ±o Nuevo?",

"Como he escrito en la conversaciÃ³n",

"Pero no lo de beber",

"Me gusta mucho que en TaiwÃ¡n la gente no bebe tanto alcohol",

"En EspaÃ±a la gente bebe mÃ¡s",

"Hay gente que bebe mucho alcohol tambiÃ©n",

"Pero no entiendo cÃ³mo los espaÃ±oles beben tanto",

"En EspaÃ±a se bebe mucho, pero no hasta estar muy, muy borracho",

"Solo un poquito",

"Pero en TaiwÃ¡n nunca he visto a nadie beber, por ejemplo, en los parques",

"En EspaÃ±a a veces veo a jÃ³venes bebiendo en los parques",

"Si bebes en la calle, Â¿la policÃ­a te multa?",

"He aprendido la palabra 'multar'",

"En TaiwÃ¡n la policÃ­a no te multa",

"Pero hay un problema: la gente conduce borracha",

"Pero el problema es cuando la gente conduce borracha",

"He oÃ­do que los espaÃ±oles tambiÃ©n conducen borrachos",

"SÃ­, sobre todo los fines de semana cuando la gente vuelve de fiesta",

"Cuando la gente vuelve de fiesta, a veces estÃ¡ borracha incluso conduciendo",

"Que es muy peligroso",

"Â¿En TaiwÃ¡n la gente sale a las discotecas?",

"Discotecas = lugar donde va la gente a bailar, beber y disfrutar",

"SÃ­, y tambiÃ©n cuando alguien se casa",

"En EspaÃ±a tambiÃ©n es muy comÃºn que la gente beba mucho en las bodas",

"Normalmente, Â¿cuÃ¡ntas horas estudias espaÃ±ol?",

"No lo cuento, tal vez al menos 1 hora al dÃ­a",

"Por ejemplo, cuando tengo tareas de casa",

"Cuando cocino, escucho espaÃ±ol",

"Escuchas y repites",

"Yo tambiÃ©n hago eso. Cuando limpio, cuando saco al perro. Siempre estoy con el mÃ³vil y repitiendo las palabras"
];

// Crear array de Ã­ndices y mezclarlo
let phraseIndices = [...Array(phrases.length).keys()];
let currentPhraseIndex = 0;
let currentWords = [];

function shuffleArray(array) {
const newArray = [...array];
for (let i = newArray.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
}
return newArray;
}

// Mezclar los Ã­ndices al inicio
phraseIndices = shuffleArray(phraseIndices);

function displayPhrase() {
const sourceContainer = document.getElementById('sourceContainer');
const targetContainer = document.getElementById('targetContainer');
sourceContainer.innerHTML = '';
targetContainer.innerHTML = '';

// Usar el Ã­ndice aleatorio para seleccionar la frase
const randomPhrase = phrases[phraseIndices[currentPhraseIndex]];
currentWords = randomPhrase.split(' ');
const shuffledWords = shuffleArray(currentWords);

shuffledWords.forEach((word, index) => {
  const wordElement = createElement(word);
  wordElement.style.animationDelay = `${index * 0.1}s`;
  sourceContainer.appendChild(wordElement);
});

document.getElementById('progress').textContent = 
  `Frase ${currentPhraseIndex + 1} de ${phrases.length}`;
}

function createElement(word) {
const wordElement = document.createElement('div');
wordElement.className = 'word';
wordElement.textContent = word;
wordElement.draggable = true;
return wordElement;
}

function speak(text) {
const utterance = new SpeechSynthesisUtterance(text);
utterance.lang = 'es-ES';
speechSynthesis.speak(utterance);
}

function returnWordsToSource() {
const sourceContainer = document.getElementById('sourceContainer');
const targetContainer = document.getElementById('targetContainer');
const words = Array.from(targetContainer.getElementsByClassName('word'));

words.forEach((word, index) => {
  word.style.opacity = '0';
  setTimeout(() => {
    word.style.opacity = '1';
    sourceContainer.appendChild(word);
  }, 300 + (index * 100));
});
}

function checkOrder() {
const targetContainer = document.getElementById('targetContainer');
const currentWordsInDOM = Array.from(targetContainer.getElementsByClassName('word'))
  .map(word => word.textContent);

if (currentWordsInDOM.length !== currentWords.length) {
  const feedback = document.getElementById('feedback');
  feedback.style.color = '#f44336';
  feedback.textContent = 'Mueve todas las palabras al Ã¡rea de ordenaciÃ³n';
  return;
}

const isCorrect = currentWords.join(' ') === currentWordsInDOM.join(' ');
const feedback = document.getElementById('feedback');

if (isCorrect) {
  feedback.style.color = '#4CAF50';
  feedback.textContent = 'Â¡Correcto!';
  
  setTimeout(() => {
    if (currentPhraseIndex < phrases.length - 1) {
      currentPhraseIndex++;
      displayPhrase();
      feedback.textContent = '';
    } else {
      feedback.textContent = 'Â¡Has completado todas las frases!';
      document.getElementById('checkBtn').disabled = true;
    }
  }, 1500);
} else {
  feedback.style.color = '#f44336';
  feedback.textContent = 'IntÃ©ntalo de nuevo';
  setTimeout(returnWordsToSource, 1000);
}
}

// Event Listeners
document.getElementById('speakBtn').addEventListener('click', () => {
speak(phrases[phraseIndices[currentPhraseIndex]]);
});

document.getElementById('checkBtn').addEventListener('click', checkOrder);

// Drag and Drop functionality
let draggedElement = null;

document.addEventListener('dragstart', (e) => {
if (e.target.className === 'word') {
  draggedElement = e.target;
  e.target.style.opacity = '0.5';
}
});

document.addEventListener('dragend', (e) => {
if (e.target.className === 'word') {
  e.target.style.opacity = '1';
}
});

document.addEventListener('dragover', (e) => {
e.preventDefault();
if (e.target.className.includes('word-container')) {
  e.target.style.background = '#e8f5e9';
}
});

document.addEventListener('dragleave', (e) => {
if (e.target.className.includes('word-container')) {
  e.target.style.background = e.target.classList.contains('source-container') ? '#f0f0f0' : '#fff';
}
});

document.addEventListener('drop', (e) => {
e.preventDefault();
const container = e.target.closest('.word-container');
if (container) {
  container.style.background = container.classList.contains('source-container') ? '#f0f0f0' : '#fff';
  container.appendChild(draggedElement);
}
});

// Initialize the first phrase
displayPhrase();
</script>
</body>
</html>