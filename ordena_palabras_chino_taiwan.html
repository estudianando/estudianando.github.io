<html>
<head>
<meta charset="UTF-8">
<title>Aprender EspaÃ±ol - Ordena las palabras</title>
<style>
body {
  font-family: Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
  margin: 0;
  padding: 20px;
}

.container {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 600px;
  width: 100%;
}

.word-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.word-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  min-height: 60px;
  padding: 15px;
  border-radius: 5px;
}

.source-container {
  background: #f0f0f0;
  border: 2px solid #ddd;
}

.target-container {
  background: #fff;
  border: 2px dashed #4CAF50;
}

.word {
  background: #4CAF50;
  color: white;
  padding: 8px 15px;
  border-radius: 20px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.2s, all 0.3s ease;
}

.word:hover {
  transform: scale(1.05);
}

.options {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

button {
  background: #2196F3;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.3s;
}

button:hover {
  background: #1976D2;
}

.progress {
  margin-top: 20px;
  font-size: 18px;
  color: #666;
}

.feedback {
  margin-top: 10px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
}

.translation {
  margin-top: 15px;
  padding: 10px;
  background: #f8f9fa;
  border-radius: 5px;
  display: none;
}

.area-label {
  font-weight: bold;
  color: #666;
  margin-bottom: -10px;
}

.word {
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
</head>
<body>
<div class="container">
<center><h1>Â¡Ordena las palabras!</h1></center>
<div class="word-area">
  <div class="area-label">Palabras disponibles:</div>
  <div id="sourceContainer" class="word-container source-container"></div>
  <div class="area-label">Ordena las palabras aquÃ­:</div>
  <div id="targetContainer" class="word-container target-container"></div>
</div>
<div class="options">
  <button id="speakBtn">ðŸ”Š Escuchar</button>
  <button id="checkBtn">Comprobar</button>
  <button id="translateBtn">Ver traducciÃ³n</button>
</div>
<div class="translation" id="translation"></div>
<div class="progress" id="progress"></div>
<div class="feedback" id="feedback"></div>
</div>

<script>
const spanishPhrases = [
"ä½  å¥½ å—Ž ï¼Ÿ",  
"æ‚¨ æ—© ï¼Œ çŽ‹ å…ˆ ç”Ÿ",  
"æˆ‘ å¾ˆ å¥½ ï¼Œ è¬ è¬ æ‚¨",  
"çŽ‹ å¤ª å¤ª å¥½ å—Ž ï¼Ÿ",  
"å¥¹ å¾ˆ å¥½ ï¼Œ è¬ è¬",  
"æˆ‘ å¤ª å¤ª å¾ˆ å¥½ ï¼Œ è¬ è¬",  
"æˆ‘ å…ˆ ç”Ÿ å¾ˆ å¥½ ï¼Œ è¬ è¬",  
"æ‚¨ å¤ª å¤ª å¥½ å—Ž ï¼Ÿ",  
"æ‚¨ å¿™ å—Ž ï¼Ÿ",  
"æˆ‘ å¾ˆ å¿™ æ‚¨ å‘¢ ï¼Ÿ",  
"æˆ‘ ä¸ å¿™ ã€‚",  
"æ‚¨ å¤ª å¤ª å¿™ ä¸ å¿™ ï¼Ÿ",  
"å¥¹ ä¹Ÿ ä¸ å¿™ ï¼Œ æˆ‘ å€‘ éƒ½ ä¸ å¤ª å¿™ ã€‚",  
"ä½  å¾ˆ å¿™ ï¼Œ æŽ å…ˆ ç”Ÿ å‘¢ ï¼Ÿ",  
"ä½  å€‘",  
"æˆ‘ å€‘",  
"ä»– å€‘",  
"å¥¹ å€‘",  
"æˆ‘ å€‘ éƒ½ å¥½ ã€‚",  
"ä½  å€‘ éƒ½ å¥½ å—Ž ï¼Ÿ",  
"ä¸ å®¢ æ°£",  
"å° ä¸ èµ·",  
"æ²’ é—œ ä¿‚",  
"ä½  å« ä»€ éº¼ å å­— ï¼Ÿ",  
"åœ¨ å“ª è£¡ ï¼Ÿ",  
"æˆ‘ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"å¥¹ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"æˆ‘ å€‘ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"ä½  å€‘ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"å¥¹ å€‘ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"ä»– å€‘ å« ä»€ éº¼ å å­— ï¼Ÿ",  
"æˆ‘ å« Nando",  
"æˆ‘ æ˜¯ Nando",  
"å¥¹ å« Ana",  
"ä»– å« Fernando",  
"ä½  å« Carlos",  
"ä½  å¹¾ æ­² äº†",  
"æˆ‘ å›› å æ­²",  
"æˆ‘ äºŒ å æ­² äº†",  
"å’– å•¡ èŒ¶ å’Œ æ°´",  
"ä½  è¦ ä»€ éº¼ é£² æ–™",  
"ä½  å¾ž å“ª è£¡ ä¾† ï¼Ÿ",  
"æˆ‘ å¾ž è¥¿ ç­ ç‰™ ä¾† ã€‚",  
"æˆ‘ æ˜¯ è¥¿ ç­ ç‰™ äºº",  
"å¤š å°‘ éŒ¢ ï¼Ÿ",  
"å¾ˆ é«˜ èˆˆ èª è­˜ ä½ ",  
"æˆ‘ è¦ ç¶  èŒ¶",  
"æˆ‘ è¦ ç´… èŒ¶",  
"å» æ‰€ åœ¨ å“ª è£¡ ï¼Ÿ",  
"åœ¨ é‚£ é‚Š",  
"æˆ‘ è¦ ä¸€ æ¯ ç ç  å¥¶ èŒ¶",  
"é€™ æ˜¯ èŒ¶",  
"ä½  å€‘ æœ‰ ä»€ éº¼ é£² æ–™ ï¼Ÿ",  
"å¤ª å¥½ äº† ï¼",  
"è«‹ å• ï¼Œ ä½  è²´ å§“ ï¼Ÿ",  
"ç¾Ž åœ‹",  
"æ´— æ‰‹ é–“",  
"æˆ‘ æ˜¯ ç¾Ž åœ‹ äºº",  
"æ‚¨ æ€Ž éº¼ æ¨£ ï¼Ÿ",  
"å§“",  
"ä½  è¦ ä»€ éº¼ ï¼Ÿ",  
"ä½  æ˜¯ å“ª åœ‹ äºº ï¼Ÿ",  
"æˆ‘ å§“ ...",  
"å¤– åœ‹ äºº",  
"æ˜¯",  
"ç¬¨ è›‹",  
"æˆ‘ æ˜¯ ç¬¨ è›‹",  
"æˆ‘ è¦ ä¸€ æ¯ ç ç  å¥¶ èŒ¶",  
"æˆ‘ è¦ ä¸€ æ¯ å†° å’– å•¡",  
"éºµ åŒ…",  
"æˆ‘ è¦ åƒ éºµ åŒ…",  
"å·§ å…‹ åŠ›",  
"æˆ‘ è¦ å– å·§ å…‹ åŠ›",  
"é€² ä¾†",  
"ç¡ è¦º",  
"æ‹¿ éµ å’– å•¡",  
"ç¾Ž å¼",  
"ç†±",  
"èœ å–®",  
"ä¸€ å€‹ æ¯ å­",  
"ä¸€ æ¯ ç†± å’– å•¡",  
"å¤§ æ¯",  
"ä¸­ æ¯",  
"å° æ¯",  
"æ­£ å¸¸ å†°",  
"å°‘ å†°",  
"å¾® å†°",  
"åŽ» å†°",  
"å…¨ ç³–",  
"å°‘ ç³–",  
"åŠ ç³–",  
"å¾® ç³–",  
"ç„¡ ç³–",  
"æˆ‘ è¦ ä¸€ æ¯ çƒ é¾ èŒ¶ ï¼Œ å¤§ æ¯ ï¼Œ å°‘ å†° ï¼Œ ç„¡ ç³–",  
"æˆ‘ æ˜¯ è¥¿ ç­ ç‰™ äºº",  
"æˆ‘ å›› å æ­²",  
"æˆ‘ äºŒ å æ­² äº†",  
"å¾ˆ é«˜ èˆˆ èª è­˜ ä½ ",  
"å¤š å°‘ éŒ¢ ï¼Ÿ",  
"å’– å•¡ ã€ èŒ¶ å’Œ æ°´ ä½  å¹¾ æ­² äº† ï¼Ÿ",  
"é€™ æ˜¯ èŒ¶",  
"æˆ‘ è¦ ç¶  èŒ¶",  
"æˆ‘ è¦ ç´… èŒ¶",  
"æˆ‘ è¦ ç ç  å¥¶ èŒ¶",  
"å» æ‰€ åœ¨ å“ª è£¡ ï¼Ÿ",  
"å¤ª å¥½ äº† ï¼",  
"ä½  å€‘ æœ‰ ä»€ éº¼ é£² æ–™ ï¼Ÿ",  
"è«‹ å• è²´ å§“ ï¼Ÿ",  
"ç¾Ž åœ‹",  
"æ´— æ‰‹ é–“",  
"æˆ‘ æ˜¯ ç¾Ž åœ‹ äºº",  
"æ‚¨ æ€Ž éº¼ æ¨£ ï¼Ÿ",  
"å§“",  
"ä½  è¦ ä»€ éº¼ ï¼Ÿ",  
"ä½  æ˜¯ å“ª åœ‹ äºº ï¼Ÿ",  
"æˆ‘ å§“ ...",  
"å¤– åœ‹ äºº",  
"æ²’ æœ‰ äº†",  
"å¤© æ°£ å¥½ ç†±",  
"å¿« é»ž å¿« é»ž",  
"èµ° èµ° èµ°",  
"æˆ‘ å€‘ åŽ» å…¬ åœ’",  
"æˆ‘ å€‘ åŽ» åƒ é£¯",  
"æ…¢ æ…¢ çš„",  
"å¥½ ç´¯",  
"å¾ˆ å¤š è”¬ èœ",  
"å¥½ å¯ æ„›",  
"ç”Ÿ æ—¥ å¿« æ¨‚",  
"è¶… å¸‚",  
"æ°´ æžœ",  
"åœ¨ é‚£ é‚Š",  
"æˆ‘ è¦ åŽ» é‹ å‹•",  
"æˆ‘ å€‘ åŽ» åš",  
"å¥½ ç‡™",  
"ç¥ ä½  æœ‰ ç¾Ž å¥½ çš„ ä¸€ å¤©",  
"æ­¡ è¿Ž",  
"æˆ‘ åœ¨ å– å’– å•¡",  
"æ¾ é¼ ",  
"ç‹— ç‹—",  
"è²“",  
"æˆ‘ æœƒ èªª ä¸€ å®š é»ž ä¸­ æ–‡",  
"æˆ‘ å€‘ åŽ» åš",  
"å¥½ ç‡™",  
"ç¥ ä½  æœ‰ ç¾Ž å¥½ çš„ ä¸€ å¤©",  
"æ¡Œ å­",  
"æ¤… å­",  
"åŒ… åŒ…",  
"é›» è…¦",  
"åœ° ä¸Š",  
"æˆ¿ é–“",  
"å»š æˆ¿",  
"éž‹ å­",  
"è¡£ æœ",  
"ä¸‰ æ˜Ž æ²»",  
"æ›¬ å¤ª é™½",  
"éºµ åŒ…",  
"åŒ… åŒ…",  
"åœ° ä¸Š",  
"å»š æˆ¿",  
"æˆ¿ é–“",  
"æ›¬ å¤ª é™½",  
"æ¡Œ å­",  
"æ¤… å­",  
"è¡£ æœ",  
"é›» è…¦",  
"éž‹ å­",  
"ä½  çš„ æ‰‹ æ©Ÿ",  
"æˆ‘ å¹« ä½ ",  
"è²· è±† èŠ±",  
"æˆ‘ å–œ æ­¡ åƒ å å¸",  
"ä»– å–œ æ­¡ æŒ‰ æ‘©",  
"çµ å¸³",  
"é»ž èœ",  
"æˆ‘ åœ¨ åš åŠŸ èª²",  
"ä½  èªª ä»€ éº¼",  
"æˆ‘ çœ‹ é›» å½±",  
"ä»– å–œ æ­¡ æŒ‰ æ‘©",  
"ä½  çš„ æ‰‹ æ©Ÿ",  
"ä½  èªª ä»€ éº¼",  
"æˆ‘ å–œ æ­¡ åƒ å å¸",  
"æˆ‘ åœ¨ åš åŠŸ èª²",  
"æˆ‘ å¹« ä½ ",  
"æˆ‘ çœ‹ é›» å½±",  
"çµ å¸³",  
"è²· è±† èŠ±",  
"é€™ æ˜¯ æ„‰ å¿« çš„ ä¸€ å¤©",  
"å¤ª é™½",  
"æˆ‘ ä¸ å–œ æ­¡ å¤ª é™½",  
"ä¸ è¦ åƒ è‰ è‰",  
"ä¾¿ ç•¶ ç›’",  
"åœ° åœ–",  
"æ¯› å·¾",  
"æµ· ç˜",  
"å†° å¡Š",  
"å¤ª é™½ çœ¼ é¡",  
"ä¸ è¦ åƒ è‰ è‰",  
"ä¾¿ ç•¶ ç›’",  
"å†° å¡Š",  
"åœ° åœ–",  
"å¤ª é™½",  
"å¤ª é™½ çœ¼ é¡",  
"æ¯› å·¾",  
"æµ· ç˜",  
"é€™ æ˜¯ æ„‰ å¿« çš„ ä¸€ å¤©"
];

const englishPhrases = [
"Â¿CÃ³mo estÃ¡s?",  
"Buenos dÃ­as, seÃ±or Wang",  
"Estoy bien, gracias",  
"Â¿CÃ³mo estÃ¡ la seÃ±ora Wang?",  
"EstÃ¡ muy bien, gracias",  
"Mi esposa estÃ¡ muy bien, gracias",  
"Mi esposo estÃ¡ muy bien, gracias",  
"Â¿CÃ³mo estÃ¡ su esposa?",  
"Â¿EstÃ¡ usted ocupado?",  
"Estoy muy ocupado, Â¿y usted?",  
"No estoy ocupado.",  
"Â¿EstÃ¡ su esposa ocupada?",  
"Ella tampoco estÃ¡ ocupada, todos nosotros no estamos muy ocupados.",  
"Â¿EstÃ¡s muy ocupado, seÃ±or Li?",  
"Ustedes",  
"Nosotros",  
"Ellos",  
"Ellas",  
"Todos nosotros estamos bien.",  
"Â¿EstÃ¡n todos ustedes bien?",  
"De nada",  
"Lo siento",  
"EstÃ¡ bien",  
"Â¿CÃ³mo te llamas?",  
"Â¿DÃ³nde estÃ¡?",  
"Â¿CÃ³mo me llamo?",  
"Â¿CÃ³mo se llama ella?",  
"Â¿CÃ³mo nos llamamos nosotros?",  
"Â¿CÃ³mo se llaman ustedes?",  
"Â¿CÃ³mo se llaman ellas?",  
"Â¿CÃ³mo se llaman ellos?",  
"Me llamo Nando",  
"Soy Nando",  
"Se llama Ana",  
"Se llama Fernando",  
"Te llamas Carlos",  
"Â¿CuÃ¡ntos aÃ±os tienes?",  
"Tengo cuarenta aÃ±os",  
"Ya tengo veinte aÃ±os",  
"CafÃ©, tÃ© y agua",  
"Â¿QuÃ© bebida quieres?",  
"Â¿De dÃ³nde eres?",  
"Soy de EspaÃ±a.",  
"Soy espaÃ±ol",  
"Â¿CuÃ¡nto cuesta?",  
"Encantado de conocerte",  
"Quiero tÃ© verde",  
"Quiero tÃ© negro",  
"Â¿DÃ³nde estÃ¡ el baÃ±o?",  
"EstÃ¡ por allÃ¡",  
"Quiero una taza de tÃ© de perlas",  
"Esto es tÃ©",  
"Â¿QuÃ© bebidas tienen?",  
"Â¡Perfecto!",  
"Disculpe, Â¿cuÃ¡l es su apellido?",  
"Estados Unidos",  
"BaÃ±o",  
"Soy estadounidense",  
"Â¿CÃ³mo estÃ¡ usted?",  
"Apellido",  
"Â¿QuÃ© quieres?",  
"Â¿De quÃ© paÃ­s eres?",  
"Mi apellido es ...",  
"Extranjero",  
"Es",  
"Tonto",  
"Soy tonto",  
"Quiero una taza de tÃ© de perlas",  
"Quiero una taza de cafÃ© helado",  
"Pan",  
"Quiero comer pan",  
"Chocolate",  
"Quiero beber chocolate",  
"Entrar",  
"Dormir",  
"CafÃ© americano",  
"Caliente",  
"MenÃº",  
"Una taza",  
"Una taza de cafÃ© caliente",  
"Vaso grande",  
"Vaso mediano",  
"Vaso pequeÃ±o",  
"Con hielo normal",  
"Un poco de hielo",  
"Un poquito de hielo",  
"Sin hielo",  
"100% de azÃºcar",  
"Un poco de azÃºcar",  
"Mitad de azÃºcar",  
"Un poquito de azÃºcar",  
"Sin azÃºcar",  
"Quiero una taza de tÃ© oolong, grande, con poco hielo, sin azÃºcar",  
"Soy espaÃ±ol",  
"Tengo cuarenta aÃ±os",  
"Ya tengo veinte aÃ±os",  
"Encantado de conocerte",  
"Â¿CuÃ¡nto cuesta?",  
"CafÃ©, tÃ© y agua",  
"Â¿CuÃ¡ntos aÃ±os tienes?",  
"Esto es tÃ©",  
"Quiero tÃ© verde",  
"Quiero tÃ© negro",  
"Quiero tÃ© de perlas",  
"Â¿DÃ³nde estÃ¡ el baÃ±o?",  
"Â¡Perfecto!",  
"Â¿QuÃ© bebidas tienen?",  
"Disculpe, Â¿cuÃ¡l es su apellido?",  
"Estados Unidos",  
"BaÃ±o",  
"Soy estadounidense",  
"Â¿CÃ³mo estÃ¡ usted?",  
"Apellido",  
"Â¿QuÃ© quieres?",  
"Â¿De quÃ© paÃ­s eres?",  
"Mi apellido es ...",  
"Extranjero",  
"No hay mÃ¡s",  
"El clima estÃ¡ muy caliente",  
"Date prisa, date prisa",  
"Vamos, vamos, vamos",  
"Vamos al parque",  
"Vamos a comer",  
"Poco a poco",  
"Tan cansado",  
"Mucha verdura",  
"QuÃ© lindo",  
"Feliz cumpleaÃ±os",  
"Supermercado",  
"Fruta",  
"Por allÃ¡",  
"Voy a hacer ejercicio",  
"Vamos a hacer",  
"EstÃ¡ caliente",  
"Que tengas un buen dÃ­a",  
"Bienvenido",  
"Estoy bebiendo cafÃ©",  
"Ardilla",  
"Perro",  
"Gato",  
"Habla un poco de chino",  
"Vamos a hacer",  
"EstÃ¡ caliente",  
"Que tengas un buen dÃ­a",  
"Mesa",  
"Silla",  
"Bolso ",  
"Computadora",  
"En el suelo",  
"Cuarto",  
"Cocina",  
"Zapatos",  
"Ropa",  
"SÃ¡ndwich",  
"Tomando el sol",  
"Pan",  
"Bolso",  
"En el suelo",  
"Cocina",  
"Cuarto",  
"Tomando el sol",  
"Mesa",  
"Silla",  
"Ropa",  
"Computadora",  
"Zapatos",  
"Tu telÃ©fono",  
"Te ayudo",  
"Comprar tofu",  
"Me gusta comer tostadas",  
"A Ã©l le gusta el masaje",  
"Cuenta",  
"Ordenar",  
"Estoy haciendo tarea",  
"Â¿QuÃ© dijiste?",  
"Estoy viendo una pelÃ­cula",  
"A Ã©l le gusta el masaje",  
"Tu telÃ©fono",  
"Â¿QuÃ© dijiste?",  
"Me gusta comer tostadas",  
"Estoy haciendo tarea",  
"Te ayudo",  
"Estoy viendo una pelÃ­cula",  
"Cuenta",  
"Comprar tofu",  
"Es un dÃ­a agradable",  
"Sol",  
"No me gusta el sol",  
"No comer hierba",  
"Comida para llevar",  
"Mapa",  
"Toalla",  
"Playa",  
"Hielo",  
"Anteojos de sol",  
"No comer hierba",  
"Comida para llevar",  
"Hielo",  
"Mapa",  
"Sol",  
"Anteojos de sol",  
"Toalla",  
"Playa",  
"Es un dÃ­a agradable"
];

let currentPhraseIndex = 0;
let currentWords = [];
let shuffledIndices = [];

function displayPhrase() {
  const sourceContainer = document.getElementById('sourceContainer');
  const targetContainer = document.getElementById('targetContainer');
  const translationDiv = document.getElementById('translation');
  
  sourceContainer.innerHTML = '';
  targetContainer.innerHTML = '';
  translationDiv.style.display = 'none';

  // Use current index to select the phrase
  const currentPhrase = spanishPhrases[shuffledIndices[currentPhraseIndex]];
  currentWords = currentPhrase.split(' ');
  const shuffledWords = shuffleArray([...currentWords]);

  shuffledWords.forEach((word, index) => {
    const wordElement = createElement(word);
    wordElement.style.animationDelay = `${index * 0.1}s`;
    sourceContainer.appendChild(wordElement);
  });

  document.getElementById('progress').textContent = 
    `Frase ${currentPhraseIndex + 1} de ${spanishPhrases.length}`;
}

function shuffleArray(array) {
  const newArray = [...array];
  for (let i = newArray.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
  }
  return newArray;
}

function createElement(word) {
  const wordElement = document.createElement('div');
  wordElement.className = 'word';
  wordElement.textContent = word;
  wordElement.draggable = true;
  return wordElement;
}

function speak(text) {
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'zh-TW'; // Cambia 'zh-TW' a 'en-US' para inglÃ©s de estados unidos
  speechSynthesis.speak(utterance);
}

function returnWordsToSource() {
  const sourceContainer = document.getElementById('sourceContainer');
  const targetContainer = document.getElementById('targetContainer');
  const words = Array.from(targetContainer.getElementsByClassName('word'));

  words.forEach((word, index) => {
    word.style.opacity = '0';
    setTimeout(() => {
      word.style.opacity = '1';
      sourceContainer.appendChild(word);
    }, 300 + (index * 100));
  });
}

function checkOrder() {
  const targetContainer = document.getElementById('targetContainer');
  const currentWordsInDOM = Array.from(targetContainer.getElementsByClassName('word'))
    .map(word => word.textContent);

  if (currentWordsInDOM.length !== currentWords.length) {
    const feedback = document.getElementById('feedback');
    feedback.style.color = '#f44336';
    feedback.textContent = 'Mueve todas las palabras al Ã¡rea de ordenaciÃ³n';
    return;
  }

  const isCorrect = currentWords.join(' ') === currentWordsInDOM.join(' ');
  const feedback = document.getElementById('feedback');

  if (isCorrect) {
    feedback.style.color = '#4CAF50';
    feedback.textContent = 'Â¡Correcto!';
    
    setTimeout(() => {
      if (currentPhraseIndex < shuffledIndices.length - 1) {
        currentPhraseIndex++;
        displayPhrase();
        feedback.textContent = '';
      } else {
        feedback.textContent = 'Â¡Has completado todas las frases!';
        document.getElementById('checkBtn').disabled = true;
      }
    }, 1500);
  } else {
    feedback.style.color = '#f44336';
    feedback.textContent = 'IntÃ©ntalo de nuevo';
    setTimeout(returnWordsToSource, 1000);
  }
}

function toggleTranslation() {
  const translationDiv = document.getElementById('translation');
  const translateBtn = document.getElementById('translateBtn');
  
  if (translationDiv.style.display === 'none') {
    translationDiv.style.display = 'block';
    translationDiv.textContent = englishPhrases[shuffledIndices[currentPhraseIndex]];
    translateBtn.textContent = 'Ocultar traducciÃ³n';
  } else {
    translationDiv.style.display = 'none';
    translateBtn.textContent = 'Ver traducciÃ³n';
  }
}

// Event Listeners
document.getElementById('speakBtn').addEventListener('click', () => {
  speak(spanishPhrases[shuffledIndices[currentPhraseIndex]]);
});

document.getElementById('checkBtn').addEventListener('click', checkOrder);
document.getElementById('translateBtn').addEventListener('click', toggleTranslation);

// Drag and Drop functionality
let draggedElement = null;

document.addEventListener('dragstart', (e) => {
  if (e.target.className === 'word') {
    draggedElement = e.target;
    e.target.style.opacity = '0.5';
  }
});

document.addEventListener('dragend', (e) => {
  if (e.target.className === 'word') {
    e.target.style.opacity = '1';
  }
});

document.addEventListener('dragover', (e) => {
  e.preventDefault();
  if (e.target.className.includes('word-container')) {
    e.target.style.background = '#e8f5e9';
  }
});

document.addEventListener('dragleave', (e) => {
  if (e.target.className.includes('word-container')) {
    e.target.style.background = e.target.classList.contains('source-container') ? '#f0f0f0' : '#fff';
  }
});

document.addEventListener('drop', (e) => {
  e.preventDefault();
  const container = e.target.closest('.word-container');
  if (container) {
    container.style.background = container.classList.contains('source-container') ? '#f0f0f0' : '#fff';
    container.appendChild(draggedElement);
  }
});

// Example phrases and translations
//const spanishPhrases = ['Buenos dÃ­as', 'Â¿CÃ³mo estÃ¡s?'];
//const englishPhrases = ['Good morning', 'How are you?'];

// Initialize the shuffled indices and the first phrase
shuffledIndices = shuffleArray([...spanishPhrases.keys()]);
displayPhrase();

</script>
</body>
</html>