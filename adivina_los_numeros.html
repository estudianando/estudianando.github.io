<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adivina el número</title>
    <script src="https://cdn.jsdelivr.net/npm/lucide-icons@latest/dist/lucide.min.js"></script>
    <style>
        .bg-blue-500 { background-color: #3B82F6; }
        .bg-blue-700 { background-color: #1E40AF; }
        .bg-gray-200 { background-color: #E5E7EB; }
        .bg-gray-300 { background-color: #D1D5DB; }
        .text-white { color: white; }
        .text-gray-800 { color: #1F2937; }
        .text-green-500 { color: #22C55E; }
        .text-red-500 { color: #EF4444; }
        .font-bold { font-weight: bold; }
        .rounded { border-radius: 0.375rem; }
        .m-2 { margin: 0.5rem; }
        .mb-4 { margin-bottom: 1rem; }
        .max-w-md { max-width: 28rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .p-4 { padding: 1rem; }
        .flex { display: flex; }
        .flex-wrap { flex-wrap: wrap; }
        .justify-between { justify-content: space-between; }
        .justify-center { justify-content: center; }
        .text-center { text-align: center; }
        .text-3xl { font-size: 1.875rem; }
    </style>
</head>
<body>
    <div class="max-w-md mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">Adivina el número</h1>
        <div class="flex justify-between mb-4">
            <label>
                Desde:
                <select id="minSelect" class="ml-2"></select>
            </label>
            <label>
                Hasta:
                <select id="maxSelect" class="ml-2"></select>
            </label>
        </div>
        <button id="speakButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
            Escuchar número
        </button>
        <div id="optionsContainer" class="flex flex-wrap justify-center mb-4"></div>
        <button id="submitButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4">
            Comprobar
        </button>
        <div id="resultContainer" class="text-center mb-4"></div>
    </div>

    <script>
        const numbers = Array.from({length: 10000}, (_, i) => i + 1);
        let number = Math.floor(Math.random() * 10000) + 1;
        let options = [];
        let selectedOption = null;
        let min = 1;
        let max = 10000;

        const minSelect = document.getElementById('minSelect');
        const maxSelect = document.getElementById('maxSelect');
        const optionsContainer = document.getElementById('optionsContainer');
        const resultContainer = document.getElementById('resultContainer');
        const speakButton = document.getElementById('speakButton');
        const submitButton = document.getElementById('submitButton');

        const generateOptions = () => {
            options = [];
            while (options.length < 4) {
                let option;
                do {
                    option = Math.floor(Math.random() * (max - min + 1)) + min;
                } while (options.includes(option) || option === number);
                options.push(option);
            }
            options[Math.floor(Math.random() * 4)] = number;
            renderOptions();
        };

        const renderOptions = () => {
            optionsContainer.innerHTML = '';
            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = `bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded m-2`;
                button.onclick = () => handleOptionChange(option);
                optionsContainer.appendChild(button);
            });
        };

        const handleOptionChange = (option) => {
            selectedOption = option;
            renderOptions();
        };

        const speak = () => {
            const utterance = new SpeechSynthesisUtterance(number.toString());
            utterance.lang = 'es-ES';
            utterance.rate = 1;
            window.speechSynthesis.speak(utterance);
        };

        const handleSubmit = () => {
            const result = selectedOption === number;
            resultContainer.innerHTML = result ? 
                `<div class="text-green-500 font-bold">¡Correcto!</div>` : 
                `<div class="text-red-500 font-bold">¡Incorrecto!</div>`;
            setTimeout(() => {
                number = Math.floor(Math.random() * (max - min + 1)) + min;
                selectedOption = null;
                resultContainer.innerHTML = '';
                generateOptions();
            }, 2000);
        };

        const handleMinChange = (event) => {
            min = parseInt(event.target.value);
            generateOptions();
        };

        const handleMaxChange = (event) => {
            max = parseInt(event.target.value);
            generateOptions();
        };

        const init = () => {
            numbers.forEach(num => {
                const minOption = document.createElement('option');
                minOption.value = num;
                minOption.textContent = num;
                minSelect.appendChild(minOption);

                const maxOption = document.createElement('option');
                maxOption.value = num;
                maxOption.textContent = num;
                maxSelect.appendChild(maxOption);
            });
            minSelect.value = min;
            maxSelect.value = max;

            minSelect.onchange = handleMinChange;
            maxSelect.onchange = handleMaxChange;
            speakButton.onclick = speak;
            submitButton.onclick = handleSubmit;

            generateOptions();
        };

        init();
    </script>
</body>
</html>