<html>
<head>
<meta charset="UTF-8">
<title>Aprender Espa√±ol - Ordena las palabras </title>
<style>
body {
  font-family: Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  min-height: 100vh;
  margin: 0;
  padding: 20px;
}

.container {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 600px;
  width: 100%;
}

.word-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.word-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  min-height: 60px;
  padding: 15px;
  border-radius: 5px;
}

.source-container {
  background: #f0f0f0;
  border: 2px solid #ddd;
}

.target-container {
  background: #fff;
  border: 2px dashed #4CAF50;
}

.word {
  background: #4CAF50;
  color: white;
  padding: 8px 15px;
  border-radius: 20px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.2s, all 0.3s ease;
}

.word:hover {
  transform: scale(1.05);
}

.options {
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

button {
  background: #2196F3;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.3s;
}

button:hover {
  background: #1976D2;
}

.progress {
  margin-top: 20px;
  font-size: 18px;
  color: #666;
}

.feedback {
  margin-top: 10px;
  font-size: 18px;
  font-weight: bold;
  text-align: center;
}

.area-label {
  font-weight: bold;
  color: #666;
  margin-bottom: -10px;
}

.word {
  animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
</head>
<body>
<div class="container">
<center><h1>¬°Ordena las palabras!</h1></center>
<div class="word-area">
  <div class="area-label">Palabras disponibles:</div>
  <div id="sourceContainer" class="word-container source-container"></div>
  <div class="area-label">Ordena las palabras aqu√≠:</div>
  <div id="targetContainer" class="word-container target-container"></div>
</div>
<div class="options">
  <button id="speakBtn">üîä Escuchar</button>
  <button id="checkBtn">Comprobar</button>
</div>
<div class="progress" id="progress"></div>
<div class="feedback" id="feedback"></div>
</div>

<script>
const phrases = [

"Hoy no estoy bien",

"Estaba de mal humor porque ayer mis padres se pelearon y firmaron un contrato de divorcio",

"Ayer fue definitivo y firmaron el divorcio",

"S√≠, pero no era en serio",

"Y en el contrato se dice que mi padre abandona todas las propiedades",

"Entonces tu padre se quedar√≠a sin nada",

"Algo parecido le ocurri√≥ a un hermano m√≠o",

"√âl se divorci√≥ de su pareja y lo perdi√≥ todo",

"La casa, el coche, todo",

"Y como tiene la custodia compartida para ver a su hijo, entonces solo puede verlo 3 d√≠as cada 2 semanas",

"La verdad es que los divorcios son duros",

"Yo llevo casado desde el 2019 porque recuerdo que fue antes de la pandemia",

"No es f√°cil hoy en d√≠a llevar las relaciones",

"Mi esposa es taiwanesa",

"Los dos vivimos en Taichung",

"Entonces t√∫ eres taiwan√©s tambi√©n",

"Me gusta mucho m√°s la vida aqu√≠ en Taiw√°n m√°s que en Barcelona",

"En Barcelona la vida es m√°s agobiante",

"Siempre con prisas",

"Taip√©i tambi√©n tiene una vida fren√©tica",

"Supongo que es porque es una gran ciudad",

"La comida aqu√≠ en Taiw√°n me encanta",

"Para m√≠ Taiw√°n es muy ex√≥tico",

"Hay comida que en Espa√±a no existe",

"Aqu√≠ hay una especie de ma√≠z muy dulce que en Espa√±a no hay",

"El ma√≠z asado en el mercado nocturno",

"Ahora mi madre se fue a la casa de mi t√≠a para escapar de mi padre",

"Ahora me siento indiferente porque ha ocurrido varias veces",

"Ahora como que te da un poco igual",

"Ahora quiero que no me molesten",

"Y tengo que enfocarme en las oposiciones",

"¬øEn Taiw√°n un funcionario gana mucho dinero?",

"No puedo decir eso pero puede vivir una vida m√°s estable",

"Pero con esta cantidad de dinero es dif√≠cil comprar una casa, especialmente para la generaci√≥n m√°s joven",

"Estuve viendo los precios de las viviendas en Taiw√°n y aqu√≠ son m√°s caros que en Barcelona",

"Porque Taiw√°n es m√°s peque√±a",

"Pero la remuneraci√≥n media no es m√°s alta que en Barcelona",

"En Barcelona el salario neto medio m√°s o menos est√° en 1700 ‚Ç¨ pero con esa cantidad es dif√≠cil llegar a fin de mes",

"En Barcelona, necesitas un sueldo de 2200 para vivir bien",

"El alquiler en Barcelona est√° sobre los 800, 900 Euros, incluso 1000 ‚Ç¨ para algo m√°s o menos decente",

"¬øQu√© incluye en la habitaci√≥n que cuesta esta cantidad?",

"Incluye un cuarto de ba√±o, tres habitaciones y un sal√≥n",

"A veces incluso una terraza o un balc√≥n o un patio si es un bajo",

"Un bajo ser√≠a el primer piso a nivel de la calle",

"Lo que pasa que en Barcelona hay mucha humedad",

"Entonces en los bajos se acumula la humedad y no es saludable",

"Lo recomendable ser√≠a un √°tico",

"El √°tico es el que est√° en lo alto",

"Porque entra m√°s luz",

"Es una chica que vive en la zona de monta√±a de Los Alpes en Suiza",

"Fue una serie muy famosa",

"Aunque el anime, que ser√≠an los dibujos animados, es japon√©s",

"Pero la historia es de 1889, creo",

"Una historia antigua",

"Una novela muy antigua",

"Y se han hecho pel√≠culas, obras de teatro",

"¬øSabes de qu√© trataba la serie?",

"Generalmente es sobre la vida de esta chica y sus amigos",

"Esta chica vive con su abuelo",

"Y recuerdo una historia",

"Su casa est√° en un pueblo de los Alpes",

"No recuerdo los detalles",

"Frankfurt era la ciudad donde viv√≠a una amiga suya, Clara",

"Clara, una chica rubia que no pod√≠a andar",

"Siempre se sentaba en una silla de ruedas",

"Era minusv√°lida",

"Minusv√°lida significa que tiene una incapacidad",

"En este caso, no puede andar",

"Pero en los √∫ltimos cap√≠tulos, pod√≠a andar un poquito",

"Pod√≠a dar unos pocos pasos",

"Tardaba en ponerse de pie y caminar",

"Pero recuerdo que no sucedi√≥",

"No pod√≠a correr como Heidi",

"Leyenda urbana es algo misterioso",

"Se refiere a fantasmas o personas misteriosas",

"Cosas misteriosas",

"M√°s o menos va por ah√≠",

"Leyenda urbana significa una historia que se presenta como verdad pero que en realidad no es tan cierta",

"Un mito es algo que se cree que es verdad pero no es verdad",

"Ejemplo de mito ser√≠a comer por la noche engorda pero no es verdad",

"Si es algo que es falso pero parece cierto",

"Con la serie Heidi hab√≠a una leyenda urbana, que incluso hay un video en YouTube sobre Heidi",

"Que es que Heidi empuja a Clara por un barranco",

"Hay memes",

"Hay fotos sobre eso",

"Es por la leyenda urbana de Heidi",

"Capit√°n Tsubasa",

"Anime japon√©s",

"De la √©poca de tus padres",

"Pelota de Drag√≥n, las bolas del Drag√≥n",

"La ve√≠a de una forma interrumpida",

"Entonces no entiendo toda la historia",

"Pero entiendo que cuando recopiladas las 7 bolas de Drag√≥n se puede pedir un deseo",

"Puede hacer una petici√≥n",

"Cuando re√∫nes las 7 bolas de Drag√≥n puedes pedir un deseo",

"Y el protagonista",

"El protagonista inolvidable",

"El personaje inolvidable para m√≠ es uno muy bajo y de color rosa",

"¬øUn cerdito?",

"Hay dos versiones, uno de gordo y otro de delgado",

"Ah, el monstruo Bu",

"En los √∫ltimos cap√≠tulos, en la bola de Drag√≥n Z",

"Ahora est√° Bola de Drag√≥n Super",

"Es muy famosa pero para m√≠ la mejor es la Z",

"¬øQui√©n es el gato de la siguiente imagen?",

"Es un gato mec√°nico",

"Es un gato robot",

"Que tiene varias herramientas en su bolsillo",

"Para ayudar al personaje principal",

"Es un chico muy pobre y siempre es rega√±ado por sus padres y maestros",

"Creo que sufre un acoso escolar de sus compa√±eros de clase",

"Siempre hace lo que quiere, nunca estudia, saca malas notas",

"En espa√±ol no usamos tanto esa voz pasiva",

"Siempre le rega√±an sus padres y maestros",

"El personaje principal se llama Nobita",

"Tambi√©n hay otra leyenda urbana sobre Doraemon en Espa√±a",

"La leyenda urbana es que Nobita en verdad es un ni√±o enfermo que se lo imagina todo",

"El cap√≠tulo final es que todo es mentira y forma parte de la imaginaci√≥n de Nobita",

"¬øEl final real lo conoces?",

"¬øQuieres que te diga el final de la serie?",

"Todos los personajes crecieron y el protagonista se ha casado con la chica: Shizuka",

"A Doraemon se le acaba la bater√≠a y no funciona",

"Entonces Nobita, el chico de las gafas, estudia ingenier√≠a para que funcione Doraemon",

"Un final feliz",

"De hecho hab√≠a le√≠do c√≥mics cuando estaba en primaria",

"Y as√≠ me volv√≠ en una visi√≥n corta",

"Y tuve problemas de visi√≥n y por eso tengo visi√≥n corta",

"Usas gafas",

"Pero ahora llevo lentillas o lentes de contacto",

"Yo tambi√©n a veces las uso",

"Y tengo un problema muy grave de visi√≥n corta",

"800 dioptr√≠as",

"Los c√≥mics son los libros de dibujos",

"A los c√≥mics japoneses los llamamos mangas",

"A los c√≥mics espa√±oles los llamamos tebeos",

"Y a los c√≥mics de Estados Unidos o de otro pa√≠s los llamamos c√≥mics",

"¬øQu√© tipo de series te gusta m√°s?",

"Depende: como Sinchan o Doraemon es bueno porque puedo verlo cuando estoy comiendo",

"Porque la duraci√≥n de cada episodio es muy corto",

"El tipo que me gusta",

"El tipo que me gusta es quiz√°s de acci√≥n pero con mucha historia interesante",

"Una historia en la que haya giros",

"Giros en la historia",

"El c√≥mic o el manga que me encanta no est√° entre ellos",

"¬øC√≥mo se llama?",

"Hunter x Hunter",

"Y el otro es Attack on Titan",

"Ese lo ve√≠a mucho cuando sali√≥ el anime",

"¬øSabes que el autor de Hunter x Hunter siempre se sale de los tiempos de entrega?",

"La primera vez que vi el c√≥mic estaba en primero de secundaria",

"Pero ahora la historia no llega al final",

"Entonces los internautas siempre dicen que nuestros nietos pueden quemar los c√≥mics para nosotros",

"En la tradici√≥n de Taiw√°n, quemamos el dinero o las cosas",

"Quemar el dinero para que vaya a los antepasados",

"Es bastante curioso lo de quemar",

"Porque puede esperar much√≠simo", "El autor empez√≥ de nuevo a dibujar a fin del a√±o pasado pero la √∫ltima vez fue hace 3 a√±os",

"3 a√±os de vacaciones",

"El autor ha sufrido una enfermedad corporal",

"Y no puede sentarse",

"La esposa tambi√©n es una escritora de c√≥mics",

"Tambi√©n hay una obra muy famosa",

"Se llama Sailor Moon",

"La escritora de Sailor Moon es su esposa",

"Los ojos de la protagonista son muy bonitos",

"Entonces los internautas dicen que su esposa le ayuda a dibujar",

"En Sailor Moon se enfoca en los ojos",

"Has mencionado Sailor Moon",

"Hay otro anime de esa √©poca que se llama Ranma 1/2",

"Otra obra de la misma escritora",

"Pens√© que era una mujer",

"Ahora est√° en Netflix una reedici√≥n de Ranma",

"Rumiko",

"¬øPrefieres ver las series dobladas o en versi√≥n original con subt√≠tulos?",

"Prefiero ver series con un audio original pero con los subt√≠tulos de chino mandar√≠n tradicional",

"Mientras disfruto de la obra original",

"Yo pienso igual que t√∫",

"Porque hay mucha interpretaci√≥n en la voz",

"Cuando se dobla ya es bastante diferente",

"Suena antinatural",

"Que no suena natural",

"Especialmente en series japonesas que le ponen mucha interpretaci√≥n a la vez",

"First Love",

"Raramente veo las series porque son muy adictivas",

"Es muy adictivo",

"Y tarda mucho tiempo para terminarlas todas",

"S√≥lo te la recomiendo si te gustan las series rom√°nticas",

"Tu pareja habr√° visto First Love m√≠nimo 4 veces",

"Es una serie que es bastante buena",

"Para las series, prefiero el tipo de horror, sangrientas y violentas",

"¬øCrees que alg√∫n d√≠a plataformas como Netflix podr√≠an sustituir a la televisi√≥n tradicional?",

"No lo creo",

"Pero creo que la forma de la gente de disfrutar de los videos ha cambiado much√≠simo",

"Desde la televisi√≥n en plataformas como Netflix",

"A veces la televisi√≥n tradicional como las noticias o los programas",

"Pero no lo hacemos los j√≥venes",

"Entonces el h√°bito en el que la gente recibe la informaci√≥n ha cambiado",

"Los mayores o personas de mediana edad prefieren ver la televisi√≥n tradicional",

"Quiz√°s b√°sicamente porque no saben c√≥mo funciona el ordenador o no saben c√≥mo usar el ordenador",

"Y tambi√©n porque es un l√≠o a veces ver la tele desde un ordenador en lugar de la TV",

"Igual no saben conectar el ordenador con la TV y tienen que verlo desde el ordenador",

];

// Crear array de √≠ndices y mezclarlo
let phraseIndices = [...Array(phrases.length).keys()];
let currentPhraseIndex = 0;
let currentWords = [];

function shuffleArray(array) {
const newArray = [...array];
for (let i = newArray.length - 1; i > 0; i--) {
  const j = Math.floor(Math.random() * (i + 1));
  [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
}
return newArray;
}

// Mezclar los √≠ndices al inicio
phraseIndices = shuffleArray(phraseIndices);

function displayPhrase() {
const sourceContainer = document.getElementById('sourceContainer');
const targetContainer = document.getElementById('targetContainer');
sourceContainer.innerHTML = '';
targetContainer.innerHTML = '';

// Usar el √≠ndice aleatorio para seleccionar la frase
const randomPhrase = phrases[phraseIndices[currentPhraseIndex]];
currentWords = randomPhrase.split(' ');
const shuffledWords = shuffleArray(currentWords);

shuffledWords.forEach((word, index) => {
  const wordElement = createElement(word);
  wordElement.style.animationDelay = `${index * 0.1}s`;
  sourceContainer.appendChild(wordElement);
});

document.getElementById('progress').textContent = 
  `Frase ${currentPhraseIndex + 1} de ${phrases.length}`;
}

function createElement(word) {
const wordElement = document.createElement('div');
wordElement.className = 'word';
wordElement.textContent = word;
wordElement.draggable = true;
return wordElement;
}

function speak(text) {
const utterance = new SpeechSynthesisUtterance(text);
utterance.lang = 'es-ES';
speechSynthesis.speak(utterance);
}

function returnWordsToSource() {
const sourceContainer = document.getElementById('sourceContainer');
const targetContainer = document.getElementById('targetContainer');
const words = Array.from(targetContainer.getElementsByClassName('word'));

words.forEach((word, index) => {
  word.style.opacity = '0';
  setTimeout(() => {
    word.style.opacity = '1';
    sourceContainer.appendChild(word);
  }, 300 + (index * 100));
});
}

function checkOrder() {
const targetContainer = document.getElementById('targetContainer');
const currentWordsInDOM = Array.from(targetContainer.getElementsByClassName('word'))
  .map(word => word.textContent);

if (currentWordsInDOM.length !== currentWords.length) {
  const feedback = document.getElementById('feedback');
  feedback.style.color = '#f44336';
  feedback.textContent = 'Mueve todas las palabras al √°rea de ordenaci√≥n';
  return;
}

const isCorrect = currentWords.join(' ') === currentWordsInDOM.join(' ');
const feedback = document.getElementById('feedback');

if (isCorrect) {
  feedback.style.color = '#4CAF50';
  feedback.textContent = '¬°Correcto!';
  
  setTimeout(() => {
    if (currentPhraseIndex < phrases.length - 1) {
      currentPhraseIndex++;
      displayPhrase();
      feedback.textContent = '';
    } else {
      feedback.textContent = '¬°Has completado todas las frases!';
      document.getElementById('checkBtn').disabled = true;
    }
  }, 1500);
} else {
  feedback.style.color = '#f44336';
  feedback.textContent = 'Int√©ntalo de nuevo';
  setTimeout(returnWordsToSource, 1000);
}
}

// Event Listeners
document.getElementById('speakBtn').addEventListener('click', () => {
speak(phrases[phraseIndices[currentPhraseIndex]]);
});

document.getElementById('checkBtn').addEventListener('click', checkOrder);

// Drag and Drop functionality
let draggedElement = null;

document.addEventListener('dragstart', (e) => {
if (e.target.className === 'word') {
  draggedElement = e.target;
  e.target.style.opacity = '0.5';
}
});

document.addEventListener('dragend', (e) => {
if (e.target.className === 'word') {
  e.target.style.opacity = '1';
}
});

document.addEventListener('dragover', (e) => {
e.preventDefault();
if (e.target.className.includes('word-container')) {
  e.target.style.background = '#e8f5e9';
}
});

document.addEventListener('dragleave', (e) => {
if (e.target.className.includes('word-container')) {
  e.target.style.background = e.target.classList.contains('source-container') ? '#f0f0f0' : '#fff';
}
});

document.addEventListener('drop', (e) => {
e.preventDefault();
const container = e.target.closest('.word-container');
if (container) {
  container.style.background = container.classList.contains('source-container') ? '#f0f0f0' : '#fff';
  container.appendChild(draggedElement);
}
});

// Initialize the first phrase
displayPhrase();
</script>
</body>
</html>